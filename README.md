# Доктор Айболит — сервер для напоминаний о приеме лекарств

Сервис разработан для того, чтобы помочь пользователям вовремя принимать назначенные лекарства. Это приложение будет напоминать пациентам о приеме таблеток, учитывая различные параметры, такие как частота приема, длительность лечения и время суток.

## Описание API

### 1. POST `/schedule`

Маршрут используется для создания расписания приема лекарства для пользователя.

**Тело запроса (JSON):**

```json
{
  "user_id": 1,           // - идентификатор пользователя (пациента)
  "medication_id": 1,     // - идентификатор лекарства
  "frequency": "1 hour",  // - частота приема
  "duration": "7 days"    // - продолжительность лечения
}
```

**Ответ (JSON):**

```json
{
  "schedule_id": 1
}
```

Возвращает идентификатор созданного расписания.

### 2. GET `/schedules?user_id=`

Маршрут используется для получения списка всех расписаний для указанного пользователя.

**Параметры запроса:**

- user_id: Идентификатор пользователя.

**Ответ (JSON):**

```json
{
  "user_id": 1,
  "schedules": [1, 2]
}
```

Возвращает список идентификаторов расписаний для указанного пользователя.

### 3. GET `/schedule?user_id=&schedule_id=`

Маршрут позволяет получить информацию о конкретном расписании для пользователя, включая данные о приеме лекарства на текущий день.

**Параметры запроса:**

- user_id: Идентификатор пользователя.
- schedule_id: Идентификатор расписания.

**Ответ (JSON):**

```json
{
  "user_id": "1",
  "schedule_id": "1",
  "takings": [
    {
      "id": 1,
      "taking_time": "2025-03-08T08:00:00",
      "medication_id": 1
    },
    {
      "id": 2,
      "taking_time": "2025-03-08T08:15:00",
      "medication_id": 1
    }
  ]
}
```

Возвращает список приемов лекарства на текущий день, с указанием времени.

### 4. GET `/next_takings?user_id=`

Маршрут возвращает информацию о ближайших приемах лекарства для пользователя в заданный период времени.

**Параметры запроса:**

- user_id: Идентификатор пользователя.

**Ответ (JSON):**

```json
{
  "user_id": "1",
  "takings": [
    {
      "id": 1,
      "taking_time": "2025-03-08T09:00:00",
      "medication_id": 1,
      "schedule_id": 1
    }
  ]
}
```

Возвращает информацию о ближайших приемах лекарства, согласно конфигурации периода времени.

## Основные особенности

- Частота приема может варьироваться от одного раза в день до ежечасного.
- Расчет времени приема с округлением до ближайших 15 минут.
- Ограничение времени приема лекарств с 8:00 до 22:00.
- Длительность лечения может быть ограничена или постоянной.
- Система автоматически создает пользователя и лекарство, если они не существуют.
